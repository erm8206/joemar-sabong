<div class="container-fluid">
    <div class="page-title">
        <div class="row">
            <div class="col-sm-6">
                <h3>Wallet Station</h3>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">
                            <svg class="stroke-icon">
                                <use href="../assets/svg/icon-sprite.svg#stroke-home"></use>
                            </svg></a></li>
                    <li class="breadcrumb-item">Transactions</li>
                    <li class="breadcrumb-item active">Wallet Station</li>
                </ol>
            </div>
        </div>
    </div>
</div>
<!-- Container-fluid starts-->
<div class="container-fluid">
    <div class="row">
        <div class="col-md-8 col-lg-8 col-xl-8">
            <div class="card">
                <div class="card-header form-title">
                    <strong>
                        <h4>Wallet Loading Station Form</h4>
                    </strong>
                </div>
                <div class="card-body" [ngClass]="{
                    'bg-green': transactionType == 'deposit',
                    'bg-red': transactionType == 'withdraw'
                  }" id="loading_form_body">
                    <div class="form-group">
                        <label for="company"><strong>Transaction Type</strong></label>
                        <select class="form-control" id="transaction_type" required="required" name="transaction_type"
                            [(ngModel)]="transactionType" (change)="selectTransaction($event)">
                            <option selected="selected" value="">
                                Select a transaction type
                            </option>
                            <option value="deposit">Deposit</option>
                            <option value="withdraw">Withdraw</option>
                        </select>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-6">
                            <label><strong id="loadUsernameLabel">Load
                                    {{
                                    transactionType == "withdraw" ? "From" : "To"
                                    }}</strong></label>
                            <ng-select class="custom-ng-select" [(ngModel)]="model.user" [items]="users" name="users"
                                bindLabel="username" bindValue="id" (change)="dataModelChanged($event)"
                                [virtualScroll]="true" (scrollToEnd)="onScrollToEnd()">
                            </ng-select>
                        </div>

                        <div class="form-group col-sm-6">
                            <label><strong>Amount</strong></label>
                            <div class="input-group">
                                <input [(ngModel)]="model.amount" class="form-control" id="amount"
                                    placeholder="Enter Amount" required="required" name="amount" type="text" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-12">
                            <label for="details"><strong>Details</strong></label>
                            <input [(ngModel)]="model.details" class="form-control" placeholder="Enter Details"
                                required="required" id="details" name="details" type="text" />
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <input type="hidden" name="user_type" class="user_type" />
                    <input type="hidden" name="token"
                        value="ce97f7f38310da9337de50016e7f2bd32f1ada87a3619a139f0ac12a61c4b83c06910a" />
                    <button (click)="runTransaction()" [disabled]="isLoading" name="pre-submit" class="btn btn-success">
                        <i class="fa fa-check"></i> Submit Action
                    </button>
                    <button (click)="clear()" class="btn btn-danger" style="margin-left: 10px">
                        <i class="fa fa-ban"></i> Cancel
                    </button>
                </div>
            </div>

        </div>
        <div class="col-md-4">
            <h4 id="agent_username" style="color: green; font-weight: bold"></h4>
            <div class="card">
                <div class="card-body bg-success">
                    <input type="hidden" id="token" name="token"
                        value="d585fff105ddf7bf81a18862e23c8651604fa768862554338573b684dbd11c6d6d72c3" />
                    <h2>
                        <div class="text-value-lg" style="padding-top: 20px; padding-left: 20px"
                            id="agent_current_load">
                            {{ selectedUser?.account?.points | number : "1.2" || "0.00" }}
                        </div>
                    </h2>
                    <h5 style="padding: 20px">Current Wallet</h5>
                </div>
            </div>
        </div>
    </div>
</div>